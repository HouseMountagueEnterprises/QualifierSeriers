<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Horse Racing Data Form</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        form {
            max-width: 400px;
            margin: 0 auto;
        }
        label {
            display: block;
            margin-top: 20px;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            margin-top: 20px;
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h1>Horse Racing Data Form</h1>
    <form id="dataForm" onsubmit="submitData(event)">
        <label for="paymentWallet">Payment Wallet:</label>
        <input type="text" id="paymentWallet" name="paymentWallet" required>

        <label for="payoutWallet">Payout Wallet:</label>
        <input type="text" id="payoutWallet" name="payoutWallet" required>

        <label for="txn">Transaction ID (Txn):</label>
        <input type="text" id="txn" name="txn" required>

        <label for="zedSent">Zed Sent:</label>
        <input type="number" id="zedSent" name="zedSent" required>

        <label for="numHorses">Number of Horses:</label>
        <input type="number" id="numHorses" name="numHorses" required>

        <label for="horseIds">Horse IDs (Comma Separated):</label>
        <input type="text" id="horseIds" name="horseIds" required pattern="^(\d+)(,\d+)*$">

        <button type="submit">Submit</button>
    </form>

    <script>
    // Function to handle form submission
function submitData(event) {
    event.preventDefault();

    // Collect form data
    const formData = new FormData(document.getElementById('dataForm'));
    const data = {};
    formData.forEach((value, key) => data[key] = value);

    // Send data to Google Sheets
    sendDataToGoogleSheet(data);
}

// Function to send data to Google Sheets
function sendDataToGoogleSheet(data) {
    const scriptURL = 'https://script.google.com/macros/s/AKfycbxzMXdk-utqth0A-etpbTthUL-b3BFf9vj69VINHR_y5qjbvu4SuN_wM5HLu2Utf4n6/exec';

    // Construct the fetch request
    const requestOptions = {
        method: 'POST',
        //mode: 'no-cors',
        body: JSON.stringify(data),
        headers: {
            'Content-Type': 'application/json',
        },
    };

    // Send the fetch request
    fetch(scriptURL, requestOptions)
        .then(response => handleResponse(response))
        .catch(error => handleError(error));
}

// Function to handle fetch response
function handleResponse(response) {
    if (response.ok) {
        alert('Data submitted successfully!');
        document.getElementById('dataForm').reset();
    } else {
        alert('Error submitting data!');
    }
}

// Function to handle fetch errors
function handleError(error) {
    alert('Error submitting data!');
    console.error('Error:', error);
}

// Attach form submission handler
document.getElementById('dataForm').addEventListener('submit', submitData);
            </script>

</body>
</html>
